<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="SIMD-Optimized Mathematical Operations"><title>haze_library::utils::simd_ops - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-ca0dd0c4.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="haze_library" data-themes="" data-resource-suffix="" data-rustdoc-version="1.92.0 (ded5c06cf 2025-12-08)" data-channel="1.92.0" data-search-js="search-d69d8955.js" data-stringdex-js="stringdex-c3e638e9.js" data-settings-js="settings-c38705f0.js" ><script src="../../../static.files/storage-e2aeef58.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../static.files/main-ce535bd0.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">Module simd_ops</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../haze_library/index.html">haze_<wbr>library</a><span class="version">1.1.3</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module simd_<wbr>ops</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#overview" title="Overview">Overview</a></li><li><a href="#design-philosophy" title="Design Philosophy">Design Philosophy</a></li><li><a href="#available-functions" title="Available Functions">Available Functions</a><ul><li><a href="#vector-arithmetic" title="Vector Arithmetic">Vector Arithmetic</a></li><li><a href="#aggregation-operations" title="Aggregation Operations">Aggregation Operations</a></li><li><a href="#fast-indicator-implementations" title="Fast Indicator Implementations">Fast Indicator Implementations</a></li></ul></li><li><a href="#examples" title="Examples">Examples</a></li><li><a href="#performance-characteristics" title="Performance Characteristics">Performance Characteristics</a></li><li><a href="#cross-references" title="Cross-References">Cross-References</a></li></ul><h3><a href="#functions">Module Items</a></h3><ul class="block"><li><a href="#functions" title="Functions">Functions</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="../index.html">In haze_<wbr>library::<wbr>utils</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../index.html">haze_library</a>::<wbr><a href="../index.html">utils</a></div><h1>Module <span>simd_<wbr>ops</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/haze_library/utils/simd_ops.rs.html#1-912">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>SIMD-Optimized Mathematical Operations</p>
<h2 id="overview"><a class="doc-anchor" href="#overview">§</a>Overview</h2>
<p>This module provides SIMD-friendly implementations of common mathematical
operations used in technical analysis. Rather than using explicit SIMD
intrinsics, the code is structured to enable automatic vectorization by
the Rust compiler (LLVM), providing portable performance across architectures.</p>
<h2 id="design-philosophy"><a class="doc-anchor" href="#design-philosophy">§</a>Design Philosophy</h2>
<ul>
<li><strong>Compiler-Friendly Code</strong>: Simple loops that LLVM can auto-vectorize</li>
<li><strong>Chunked Processing</strong>: Uses 8-element chunks matching AVX-512 width</li>
<li><strong>Zero Dependencies</strong>: No external SIMD libraries required</li>
<li><strong>Numerical Stability</strong>: Chunked summation reduces floating-point errors</li>
</ul>
<h2 id="available-functions"><a class="doc-anchor" href="#available-functions">§</a>Available Functions</h2><h3 id="vector-arithmetic"><a class="doc-anchor" href="#vector-arithmetic">§</a>Vector Arithmetic</h3>
<ul>
<li><a href="fn.add_vectors.html" title="fn haze_library::utils::simd_ops::add_vectors"><code>add_vectors</code></a> - Element-wise vector addition</li>
<li><a href="fn.sub_vectors.html" title="fn haze_library::utils::simd_ops::sub_vectors"><code>sub_vectors</code></a> - Element-wise vector subtraction</li>
<li><a href="fn.mul_vectors.html" title="fn haze_library::utils::simd_ops::mul_vectors"><code>mul_vectors</code></a> - Element-wise vector multiplication</li>
<li><a href="fn.div_vectors.html" title="fn haze_library::utils::simd_ops::div_vectors"><code>div_vectors</code></a> - Element-wise vector division (fail-fast on zero)</li>
<li><a href="fn.scale_vector.html" title="fn haze_library::utils::simd_ops::scale_vector"><code>scale_vector</code></a> - Scalar multiplication</li>
</ul>
<h3 id="aggregation-operations"><a class="doc-anchor" href="#aggregation-operations">§</a>Aggregation Operations</h3>
<ul>
<li><a href="fn.sum_vector.html" title="fn haze_library::utils::simd_ops::sum_vector"><code>sum_vector</code></a> - Chunked summation for numerical stability</li>
<li><a href="fn.dot_product.html" title="fn haze_library::utils::simd_ops::dot_product"><code>dot_product</code></a> - Dot product with chunked accumulation</li>
<li><a href="fn.max_vector.html" title="fn haze_library::utils::simd_ops::max_vector"><code>max_vector</code></a> - Find maximum value</li>
<li><a href="fn.min_vector.html" title="fn haze_library::utils::simd_ops::min_vector"><code>min_vector</code></a> - Find minimum value</li>
<li><a href="fn.mean_vector.html" title="fn haze_library::utils::simd_ops::mean_vector"><code>mean_vector</code></a> - Calculate arithmetic mean</li>
<li><a href="fn.std_vector.html" title="fn haze_library::utils::simd_ops::std_vector"><code>std_vector</code></a> - Calculate population standard deviation</li>
</ul>
<h3 id="fast-indicator-implementations"><a class="doc-anchor" href="#fast-indicator-implementations">§</a>Fast Indicator Implementations</h3>
<ul>
<li><a href="fn.fast_sma.html" title="fn haze_library::utils::simd_ops::fast_sma"><code>fast_sma</code></a> - SMA using cumulative sum optimization</li>
<li><a href="fn.fast_ema.html" title="fn haze_library::utils::simd_ops::fast_ema"><code>fast_ema</code></a> - EMA using recursive formula</li>
<li><a href="fn.batch_sma.html" title="fn haze_library::utils::simd_ops::batch_sma"><code>batch_sma</code></a> - Compute multiple SMA periods efficiently</li>
</ul>
<h2 id="examples"><a class="doc-anchor" href="#examples">§</a>Examples</h2>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>haze_library::utils::simd_ops::{add_vectors, dot_product, fast_sma};

<span class="comment">// Vector operations
</span><span class="kw">let </span>a = <span class="macro">vec!</span>[<span class="number">1.0</span>, <span class="number">2.0</span>, <span class="number">3.0</span>, <span class="number">4.0</span>];
<span class="kw">let </span>b = <span class="macro">vec!</span>[<span class="number">5.0</span>, <span class="number">6.0</span>, <span class="number">7.0</span>, <span class="number">8.0</span>];
<span class="kw">let </span>sum = add_vectors(<span class="kw-2">&amp;</span>a, <span class="kw-2">&amp;</span>b).unwrap();  <span class="comment">// [6.0, 8.0, 10.0, 12.0]
</span><span class="kw">let </span>dot = dot_product(<span class="kw-2">&amp;</span>a, <span class="kw-2">&amp;</span>b).unwrap();  <span class="comment">// 70.0

// Fast SMA calculation
</span><span class="kw">let </span>prices = <span class="macro">vec!</span>[<span class="number">100.0</span>, <span class="number">101.0</span>, <span class="number">102.0</span>, <span class="number">103.0</span>, <span class="number">104.0</span>];
<span class="kw">let </span>sma = fast_sma(<span class="kw-2">&amp;</span>prices, <span class="number">3</span>).unwrap();</code></pre></div><h2 id="performance-characteristics"><a class="doc-anchor" href="#performance-characteristics">§</a>Performance Characteristics</h2>
<ul>
<li>Vector operations: ~2-4x speedup with auto-vectorization enabled</li>
<li>Chunk size of 8 elements aligns with AVX-512 registers</li>
<li><code>fast_sma</code>/<code>fast_ema</code> use O(n) sliding window, not O(n*period)</li>
<li>Compile with <code>-C target-cpu=native</code> for best performance</li>
</ul>
<h2 id="cross-references"><a class="doc-anchor" href="#cross-references">§</a>Cross-References</h2>
<ul>
<li><a href="../ma/index.html" title="mod haze_library::utils::ma"><code>crate::utils::ma</code></a> - Standard moving average implementations</li>
<li><a href="../stats/index.html" title="mod haze_library::utils::stats"><code>crate::utils::stats</code></a> - Statistical functions with different trade-offs</li>
<li><a href="../parallel/index.html" title="mod haze_library::utils::parallel"><code>crate::utils::parallel</code></a> - Multi-threaded parallel processing</li>
</ul>
</div></details><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><dl class="item-table"><dt><a class="fn" href="fn.add_vectors.html" title="fn haze_library::utils::simd_ops::add_vectors">add_<wbr>vectors</a></dt><dd>SIMD 友好的向量加法</dd><dt><a class="fn" href="fn.batch_sma.html" title="fn haze_library::utils::simd_ops::batch_sma">batch_<wbr>sma</a></dt><dd>批量计算多个 SMA 周期</dd><dt><a class="fn" href="fn.div_vectors.html" title="fn haze_library::utils::simd_ops::div_vectors">div_<wbr>vectors</a></dt><dd>SIMD 友好的向量除法</dd><dt><a class="fn" href="fn.dot_product.html" title="fn haze_library::utils::simd_ops::dot_product">dot_<wbr>product</a></dt><dd>SIMD 友好的点积</dd><dt><a class="fn" href="fn.fast_ema.html" title="fn haze_library::utils::simd_ops::fast_ema">fast_<wbr>ema</a></dt><dd>快速 EMA 计算（SIMD 友好）</dd><dt><a class="fn" href="fn.fast_sma.html" title="fn haze_library::utils::simd_ops::fast_sma">fast_<wbr>sma</a></dt><dd>快速 SMA 计算（SIMD 友好）</dd><dt><a class="fn" href="fn.max_vector.html" title="fn haze_library::utils::simd_ops::max_vector">max_<wbr>vector</a></dt><dd>向量化的最大值查找</dd><dt><a class="fn" href="fn.mean_vector.html" title="fn haze_library::utils::simd_ops::mean_vector">mean_<wbr>vector</a></dt><dd>向量化的均值计算</dd><dt><a class="fn" href="fn.min_vector.html" title="fn haze_library::utils::simd_ops::min_vector">min_<wbr>vector</a></dt><dd>向量化的最小值查找</dd><dt><a class="fn" href="fn.mul_vectors.html" title="fn haze_library::utils::simd_ops::mul_vectors">mul_<wbr>vectors</a></dt><dd>SIMD 友好的向量乘法</dd><dt><a class="fn" href="fn.scale_vector.html" title="fn haze_library::utils::simd_ops::scale_vector">scale_<wbr>vector</a></dt><dd>SIMD 友好的标量乘法</dd><dt><a class="fn" href="fn.std_vector.html" title="fn haze_library::utils::simd_ops::std_vector">std_<wbr>vector</a></dt><dd>向量化的标准差计算</dd><dt><a class="fn" href="fn.sub_vectors.html" title="fn haze_library::utils::simd_ops::sub_vectors">sub_<wbr>vectors</a></dt><dd>SIMD 友好的向量减法</dd><dt><a class="fn" href="fn.sum_vector.html" title="fn haze_library::utils::simd_ops::sum_vector">sum_<wbr>vector</a></dt><dd>SIMD 友好的向量求和</dd></dl></section></div></main></body></html>
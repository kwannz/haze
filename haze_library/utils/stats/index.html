<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Statistical Utilities Module"><title>haze_library::utils::stats - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-ca0dd0c4.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="haze_library" data-themes="" data-resource-suffix="" data-rustdoc-version="1.92.0 (ded5c06cf 2025-12-08)" data-channel="1.92.0" data-search-js="search-d69d8955.js" data-stringdex-js="stringdex-c3e638e9.js" data-settings-js="settings-c38705f0.js" ><script src="../../../static.files/storage-e2aeef58.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../static.files/main-ce535bd0.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">Module stats</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../haze_library/index.html">haze_<wbr>library</a><span class="version">1.1.3</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module stats</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#overview" title="Overview">Overview</a></li><li><a href="#available-functions" title="Available Functions">Available Functions</a><ul><li><a href="#basic-statistics" title="Basic Statistics">Basic Statistics</a></li><li><a href="#momentum-statistics" title="Momentum Statistics">Momentum Statistics</a></li><li><a href="#regression-analysis" title="Regression Analysis">Regression Analysis</a></li><li><a href="#correlation-analysis" title="Correlation Analysis">Correlation Analysis</a></li></ul></li><li><a href="#examples" title="Examples">Examples</a></li><li><a href="#performance-characteristics" title="Performance Characteristics">Performance Characteristics</a></li><li><a href="#nan-handling" title="NaN Handling">NaN Handling</a></li><li><a href="#cross-references" title="Cross-References">Cross-References</a></li></ul><h3><a href="#structs">Module Items</a></h3><ul class="block"><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#functions" title="Functions">Functions</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="../index.html">In haze_<wbr>library::<wbr>utils</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../index.html">haze_library</a>::<wbr><a href="../index.html">utils</a></div><h1>Module <span>stats</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/haze_library/utils/stats.rs.html#1-2196">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Statistical Utilities Module</p>
<h2 id="overview"><a class="doc-anchor" href="#overview">Â§</a>Overview</h2>
<p>This module provides fundamental statistical functions for technical analysis,
including rolling window calculations, regression analysis, and correlation
metrics. These functions serve as building blocks for indicators and risk
assessment calculations.</p>
<h2 id="available-functions"><a class="doc-anchor" href="#available-functions">Â§</a>Available Functions</h2><h3 id="basic-statistics"><a class="doc-anchor" href="#basic-statistics">Â§</a>Basic Statistics</h3>
<ul>
<li><a href="fn.stdev.html" title="fn haze_library::utils::stats::stdev"><code>stdev</code></a> - Sample standard deviation (n-1 denominator)</li>
<li><a href="fn.stdev_population.html" title="fn haze_library::utils::stats::stdev_population"><code>stdev_population</code></a> - Population standard deviation (n denominator)</li>
<li><a href="fn.rolling_max.html" title="fn haze_library::utils::stats::rolling_max"><code>rolling_max</code></a> - Rolling window maximum (O(n) using monotonic deque)</li>
<li><a href="fn.rolling_min.html" title="fn haze_library::utils::stats::rolling_min"><code>rolling_min</code></a> - Rolling window minimum (O(n) using monotonic deque)</li>
<li><a href="fn.rolling_sum.html" title="fn haze_library::utils::stats::rolling_sum"><code>rolling_sum</code></a> - Rolling window sum (O(n) incremental)</li>
<li><a href="fn.rolling_percentile.html" title="fn haze_library::utils::stats::rolling_percentile"><code>rolling_percentile</code></a> - Rolling percentile/median calculation</li>
<li><a href="fn.var.html" title="fn haze_library::utils::stats::var"><code>var</code></a> - Rolling variance</li>
</ul>
<h3 id="momentum-statistics"><a class="doc-anchor" href="#momentum-statistics">Â§</a>Momentum Statistics</h3>
<ul>
<li><a href="fn.roc.html" title="fn haze_library::utils::stats::roc"><code>roc</code></a> - Rate of Change (percentage price change)</li>
<li><a href="fn.momentum.html" title="fn haze_library::utils::stats::momentum"><code>momentum</code></a> - Momentum (absolute price change)</li>
</ul>
<h3 id="regression-analysis"><a class="doc-anchor" href="#regression-analysis">Â§</a>Regression Analysis</h3>
<ul>
<li><a href="fn.linear_regression.html" title="fn haze_library::utils::stats::linear_regression"><code>linear_regression</code></a> - Linear regression (slope, intercept, R-squared)</li>
<li><a href="fn.linearreg.html" title="fn haze_library::utils::stats::linearreg"><code>linearreg</code></a> - Linear regression endpoint value (TA-Lib compatible)</li>
<li><a href="fn.linearreg_slope.html" title="fn haze_library::utils::stats::linearreg_slope"><code>linearreg_slope</code></a> - Linear regression slope</li>
<li><a href="fn.linearreg_angle.html" title="fn haze_library::utils::stats::linearreg_angle"><code>linearreg_angle</code></a> - Linear regression angle in degrees</li>
<li><a href="fn.linearreg_intercept.html" title="fn haze_library::utils::stats::linearreg_intercept"><code>linearreg_intercept</code></a> - Linear regression intercept</li>
<li><a href="fn.standard_error.html" title="fn haze_library::utils::stats::standard_error"><code>standard_error</code></a> - Regression standard error</li>
<li><a href="fn.tsf.html" title="fn haze_library::utils::stats::tsf"><code>tsf</code></a> - Time Series Forecast (next point prediction)</li>
</ul>
<h3 id="correlation-analysis"><a class="doc-anchor" href="#correlation-analysis">Â§</a>Correlation Analysis</h3>
<ul>
<li><a href="fn.correlation.html" title="fn haze_library::utils::stats::correlation"><code>correlation</code></a> / <a href="fn.correl.html" title="fn haze_library::utils::stats::correl"><code>correl</code></a> - Pearson correlation coefficient</li>
<li><a href="fn.covariance.html" title="fn haze_library::utils::stats::covariance"><code>covariance</code></a> - Rolling covariance between two series</li>
<li><a href="fn.beta.html" title="fn haze_library::utils::stats::beta"><code>beta</code></a> - Beta coefficient (systematic risk measure)</li>
<li><a href="fn.zscore.html" title="fn haze_library::utils::stats::zscore"><code>zscore</code></a> - Z-Score standardization</li>
</ul>
<h2 id="examples"><a class="doc-anchor" href="#examples">Â§</a>Examples</h2>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>haze_library::utils::stats::{stdev, rolling_max, linear_regression};

<span class="kw">let </span>values = <span class="macro">vec!</span>[<span class="number">1.0</span>, <span class="number">2.0</span>, <span class="number">3.0</span>, <span class="number">4.0</span>, <span class="number">5.0</span>, <span class="number">6.0</span>, <span class="number">7.0</span>];

<span class="comment">// Calculate 3-period rolling standard deviation
</span><span class="kw">let </span>std_values = stdev(<span class="kw-2">&amp;</span>values, <span class="number">3</span>);

<span class="comment">// Calculate 3-period rolling maximum
</span><span class="kw">let </span>max_values = rolling_max(<span class="kw-2">&amp;</span>values, <span class="number">3</span>);

<span class="comment">// Linear regression over 5-period windows
</span><span class="kw">let </span>(slope, intercept, r_squared) = linear_regression(<span class="kw-2">&amp;</span>values, <span class="number">5</span>);</code></pre></div><h2 id="performance-characteristics"><a class="doc-anchor" href="#performance-characteristics">Â§</a>Performance Characteristics</h2>
<ul>
<li>Rolling max/min: O(n) amortized using monotonic deque algorithm</li>
<li>Rolling sum: O(n) with incremental updates</li>
<li>Regression: O(n) rolling (periodic recompute to limit drift)</li>
<li>Correlation/Covariance/Beta/Z-Score/Var: O(n) rolling (periodic recompute)</li>
<li>Percentile/precise variants may be O(n * period)</li>
</ul>
<h2 id="nan-handling"><a class="doc-anchor" href="#nan-handling">Â§</a>NaN Handling</h2>
<ul>
<li>All functions return NaN for warmup periods (first period-1 values)</li>
<li>NaN values in input propagate appropriately through calculations</li>
<li>Rolling max/min skip NaN values within windows</li>
</ul>
<h2 id="cross-references"><a class="doc-anchor" href="#cross-references">Â§</a>Cross-References</h2>
<ul>
<li><a href="../../indicators/volatility/index.html" title="mod haze_library::indicators::volatility"><code>crate::indicators::volatility</code></a> - Uses stdev for Bollinger Bands</li>
<li><a href="../../indicators/momentum/index.html" title="mod haze_library::indicators::momentum"><code>crate::indicators::momentum</code></a> - Uses rolling_max/min for Stochastic</li>
<li><a href="../ma/index.html" title="mod haze_library::utils::ma"><code>crate::utils::ma</code></a> - Complementary moving average functions</li>
</ul>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.LinRegComputed.html" title="struct haze_library::utils::stats::LinRegComputed">LinReg<wbr>Computed</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </dt><dd>Internal computed values for rolling linear regression.</dd><dt><a class="struct" href="struct.PercentileHeapItem.html" title="struct haze_library::utils::stats::PercentileHeapItem">Percentile<wbr>Heap<wbr>Item</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </dt></dl><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="fn" href="fn.beta.html" title="fn haze_library::utils::stats::beta">beta</a></dt><dd>Betaï¼ˆè´å¡”ç³»æ•°ï¼‰</dd><dt><a class="fn" href="fn.correl.html" title="fn haze_library::utils::stats::correl">correl</a></dt><dd>CORREL - Pearson Correlation Coefficient (TA-Lib compatible)</dd><dt><a class="fn" href="fn.correlation.html" title="fn haze_library::utils::stats::correlation">correlation</a></dt><dd>Pearson ç›¸å…³ç³»æ•°ï¼ˆCorrelation Coefficientï¼‰</dd><dt><a class="fn" href="fn.covariance.html" title="fn haze_library::utils::stats::covariance">covariance</a></dt><dd>åæ–¹å·®ï¼ˆCovarianceï¼‰</dd><dt><a class="fn" href="fn.float_from_total_key.html" title="fn haze_library::utils::stats::float_from_total_key">float_<wbr>from_<wbr>total_<wbr>key</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </dt><dt><a class="fn" href="fn.float_total_key.html" title="fn haze_library::utils::stats::float_total_key">float_<wbr>total_<wbr>key</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </dt><dt><a class="fn" href="fn.linear_regression.html" title="fn haze_library::utils::stats::linear_regression">linear_<wbr>regression</a></dt><dd>çº¿æ€§å›å½’ï¼ˆLinear Regressionï¼‰</dd><dt><a class="fn" href="fn.linearreg.html" title="fn haze_library::utils::stats::linearreg">linearreg</a></dt><dd>LINEARREG - Linear Regression (end point value)</dd><dt><a class="fn" href="fn.linearreg_angle.html" title="fn haze_library::utils::stats::linearreg_angle">linearreg_<wbr>angle</a></dt><dd>LINEARREG_ANGLE - Linear Regression Angle (in degrees)</dd><dt><a class="fn" href="fn.linearreg_intercept.html" title="fn haze_library::utils::stats::linearreg_intercept">linearreg_<wbr>intercept</a></dt><dd>LINEARREG_INTERCEPT - Linear Regression Intercept</dd><dt><a class="fn" href="fn.linearreg_slope.html" title="fn haze_library::utils::stats::linearreg_slope">linearreg_<wbr>slope</a></dt><dd>LINEARREG_SLOPE - Linear Regression Slope</dd><dt><a class="fn" href="fn.linreg_constants.html" title="fn haze_library::utils::stats::linreg_constants">linreg_<wbr>constants</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </dt><dt><a class="fn" href="fn.mean_and_stdev_population.html" title="fn haze_library::utils::stats::mean_and_stdev_population">mean_<wbr>and_<wbr>stdev_<wbr>population</a></dt><dd>åŒæ—¶è®¡ç®—æ»šåŠ¨å‡å€¼å’Œæ€»ä½“æ ‡å‡†å·®ï¼ˆå•æ¬¡éå†ï¼‰</dd><dt><a class="fn" href="fn.momentum.html" title="fn haze_library::utils::stats::momentum">momentum</a></dt><dd>åŠ¨é‡ï¼ˆMomentumï¼‰</dd><dt><a class="fn" href="fn.roc.html" title="fn haze_library::utils::stats::roc">roc</a></dt><dd>å˜åŒ–ç‡ï¼ˆRate of Changeï¼‰</dd><dt><a class="fn" href="fn.rolling_linreg_apply.html" title="fn haze_library::utils::stats::rolling_linreg_apply">rolling_<wbr>linreg_<wbr>apply</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </dt><dd>Rolling linear regression core (O(n))</dd><dt><a class="fn" href="fn.rolling_max.html" title="fn haze_library::utils::stats::rolling_max">rolling_<wbr>max</a></dt><dd>æœ€å¤§å€¼ï¼ˆæ»šåŠ¨çª—å£ï¼‰</dd><dt><a class="fn" href="fn.rolling_min.html" title="fn haze_library::utils::stats::rolling_min">rolling_<wbr>min</a></dt><dd>æœ€å°å€¼ï¼ˆæ»šåŠ¨çª—å£ï¼‰</dd><dt><a class="fn" href="fn.rolling_percentile.html" title="fn haze_library::utils::stats::rolling_percentile">rolling_<wbr>percentile</a></dt><dd>ç™¾åˆ†ä½æ•°ï¼ˆæ»šåŠ¨çª—å£ï¼‰</dd><dt><a class="fn" href="fn.rolling_percentile_dual_heap.html" title="fn haze_library::utils::stats::rolling_percentile_dual_heap">rolling_<wbr>percentile_<wbr>dual_<wbr>heap</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </dt><dt><a class="fn" href="fn.rolling_percentile_select.html" title="fn haze_library::utils::stats::rolling_percentile_select">rolling_<wbr>percentile_<wbr>select</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </dt><dt><a class="fn" href="fn.rolling_sum.html" title="fn haze_library::utils::stats::rolling_sum">rolling_<wbr>sum</a></dt><dd>æ±‚å’Œï¼ˆæ»šåŠ¨çª—å£ï¼‰</dd><dt><a class="fn" href="fn.rolling_sum_kahan.html" title="fn haze_library::utils::stats::rolling_sum_kahan">rolling_<wbr>sum_<wbr>kahan</a></dt><dd>Kahan è¡¥å¿æ»šåŠ¨æ±‚å’Œï¼ˆé«˜ç²¾åº¦ç‰ˆæœ¬ï¼‰</dd><dt><a class="fn" href="fn.standard_error.html" title="fn haze_library::utils::stats::standard_error">standard_<wbr>error</a></dt><dd>æ ‡å‡†è¯¯å·®ï¼ˆStandard Errorï¼‰</dd><dt><a class="fn" href="fn.stdev.html" title="fn haze_library::utils::stats::stdev">stdev</a></dt><dd>æ ‡å‡†å·®ï¼ˆæ ·æœ¬æ ‡å‡†å·®ï¼Œä½¿ç”¨ n-1 ä½œä¸ºåˆ†æ¯ï¼‰</dd><dt><a class="fn" href="fn.stdev_population.html" title="fn haze_library::utils::stats::stdev_population">stdev_<wbr>population</a></dt><dd>æ ‡å‡†å·®ï¼ˆæ€»ä½“æ ‡å‡†å·®ï¼Œä½¿ç”¨ n ä½œä¸ºåˆ†æ¯ï¼‰</dd><dt><a class="fn" href="fn.stdev_precise.html" title="fn haze_library::utils::stats::stdev_precise">stdev_<wbr>precise</a></dt><dd>STDEV_PRECISE - High-precision Standard Deviation (always uses Kahan summation)</dd><dt><a class="fn" href="fn.stdev_welford.html" title="fn haze_library::utils::stats::stdev_welford">stdev_<wbr>welford</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </dt><dd>æ ‡å‡†å·® Welford å¢é‡å®ç°ï¼ˆå†…éƒ¨å‡½æ•°ï¼‰</dd><dt><a class="fn" href="fn.tsf.html" title="fn haze_library::utils::stats::tsf">tsf</a></dt><dd>TSF - Time Series Forecast</dd><dt><a class="fn" href="fn.var.html" title="fn haze_library::utils::stats::var">var</a></dt><dd>VAR - Variance</dd><dt><a class="fn" href="fn.var_precise.html" title="fn haze_library::utils::stats::var_precise">var_<wbr>precise</a></dt><dd>VAR_PRECISE - High-precision Variance (always uses Kahan summation)</dd><dt><a class="fn" href="fn.zscore.html" title="fn haze_library::utils::stats::zscore">zscore</a></dt><dd>Z-Scoreï¼ˆæ ‡å‡†åˆ†æ•°ï¼‰</dd></dl></section></div></main></body></html>